<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Costa, W. G." />

<meta name="date" content="2023-05-09" />

<title>Manipulação de dados no R </title>

<script src="site_libs/header-attrs-2.21/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-6.4.0/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.0/css/v4-shims.min.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/main/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Curso Análise Gráfica no R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Tutorial.html">Tutorial</a>
</li>
<li>
  <a href="introducao-r.html">Introdução ao R</a>
</li>
<li>
  <a href="manipulacaodedados.html">Manipulação de dados</a>
</li>
<li>
  <a href="analise-grafica.html">Análise Gráfica</a>
</li>
<li>
  <a href="about.html">Sobre</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore"><p>Manipulação de dados no R <img
src="images/logo.jpg" style="display:block; margin:0 auto"
width="100" /></p></h1>
<h4 class="author">Costa, W. G.<a href="#fn1" class="footnote-ref"
id="fnref1"><sup>1</sup></a></h4>
<h4 class="date">2023-05-09</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
workflowr <span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span
class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> </a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2023-05-09
</p>
<p>
<strong>Checks:</strong> <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 6
<span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> 1
</p>
<p>
<strong>Knit directory:</strong>
<code>Manipulacao-dados-e-Analise-Grafica-R/</code> <span
class="glyphicon glyphicon-question-sign" aria-hidden="true"
title="This is the local directory in which the code in this file was executed.">
</span>
</p>
<p>
This reproducible <a href="https://rmarkdown.rstudio.com">R Markdown</a>
analysis was created with <a
  href="https://github.com/workflowr/workflowr">workflowr</a> (version
1.7.0). The <em>Checks</em> tab describes the reproducibility checks
that were applied when the results were created. The <em>Past
versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguncommittedchanges">
<span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> <strong>R Markdown file:</strong> uncommitted
changes </a>
</p>
</div>
<div id="strongRMarkdownfilestronguncommittedchanges"
class="panel-collapse collapse">
<div class="panel-body">
<p>The R Markdown file has unstaged changes. To know which version of
the R Markdown file created these results, you’ll want to first commit
it to the Git repo. If you’re still working on the analysis, you can
ignore this warning. When you’re finished, you can run
<code>wflow_publish</code> to commit the R Markdown file and build the
HTML.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the
global environment can affect the analysis in your R Markdown file in
unknown ways. For reproduciblity it’s best to always run the code in an
empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20220826code">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Seed:</strong>
<code>set.seed(20220826)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20220826code"
class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20220826)</code> was run prior to running
the code in the R Markdown file. Setting a seed ensures that any results
that rely on randomness, e.g. subsampling or permutations, are
reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Session information:</strong>
recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package
versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be
confident that you successfully produced the results during this
run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr
project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomWevertonGomesCostaManipulacaodadoseAnaliseGraficaRtree5464454a01b9934ad3135be4f6dcf6c109d382e7targetblank5464454a">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Repository version:</strong>
<a href="https://github.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/tree/5464454a01b9934ad3135be4f6dcf6c109d382e7" target="_blank">5464454</a>
</a>
</p>
</div>
<div
id="strongRepositoryversionstrongahrefhttpsgithubcomWevertonGomesCostaManipulacaodadoseAnaliseGraficaRtree5464454a01b9934ad3135be4f6dcf6c109d382e7targetblank5464454a"
class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development
and connecting the code version to the results is critical for
reproducibility.
</p>
<p>
The results in this page were generated with repository version
<a href="https://github.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/tree/5464454a01b9934ad3135be4f6dcf6c109d382e7" target="_blank">5464454</a>.
See the <em>Past versions</em> tab to see a history of the changes made
to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for
the analysis have been committed to Git prior to generating the results
(you can use <code>wflow_publish</code> or
<code>wflow_git_commit</code>). workflowr only checks the R Markdown
file, but you know if there are other scripts or data files that it
depends on. Below is the status of the Git repository when the results
were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rproj.user/

Unstaged changes:
    Modified:   analysis/Tutorial.Rmd
    Modified:   analysis/about.Rmd
    Modified:   analysis/analise-grafica.Rmd
    Modified:   analysis/index.Rmd
    Modified:   analysis/introducao-r.Rmd
    Modified:   analysis/license.Rmd
    Modified:   analysis/manipulacaodedados.Rmd

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not
included in this status report because it is ok for generated content to
have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">

<p>
These are the previous versions of the repository in which changes were
made to the R Markdown (<code>analysis/manipulacaodedados.Rmd</code>)
and HTML (<code>docs/manipulacaodedados.html</code>) files. If you’ve
configured a remote Git repository (see <code>?wflow_git_remote</code>),
click on the hyperlinks in the table below to view the files as they
were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/blob/620025dc7d700992fd76745596d8fb07197a2dc6/analysis/manipulacaodedados.Rmd" target="_blank">620025d</a>
</td>
<td>
WevertonGomesCosta
</td>
<td>
2022-11-16
</td>
<td>
Update
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/620025dc7d700992fd76745596d8fb07197a2dc6/docs/manipulacaodedados.html" target="_blank">620025d</a>
</td>
<td>
WevertonGomesCosta
</td>
<td>
2022-11-16
</td>
<td>
Update
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/blob/5c6cf18fe6093c82627952dac04f3b9646988edf/analysis/manipulacaodedados.Rmd" target="_blank">5c6cf18</a>
</td>
<td>
WevertonGomesCosta
</td>
<td>
2022-11-04
</td>
<td>
Update
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/5c6cf18fe6093c82627952dac04f3b9646988edf/docs/manipulacaodedados.html" target="_blank">5c6cf18</a>
</td>
<td>
WevertonGomesCosta
</td>
<td>
2022-11-04
</td>
<td>
Update
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/blob/abb97e2803caeb50bf9a80c516b81833ad88ee48/analysis/manipulacaodedados.Rmd" target="_blank">abb97e2</a>
</td>
<td>
WevertonGomesCosta
</td>
<td>
2022-10-20
</td>
<td>
Update
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/abb97e2803caeb50bf9a80c516b81833ad88ee48/docs/manipulacaodedados.html" target="_blank">abb97e2</a>
</td>
<td>
WevertonGomesCosta
</td>
<td>
2022-10-20
</td>
<td>
Update
</td>
</tr>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/blob/206bfa9348f1d2adf561992cfa369377f0538c05/analysis/manipulacaodedados.Rmd" target="_blank">206bfa9</a>
</td>
<td>
WevertonGomesCosta
</td>
<td>
2022-09-12
</td>
<td>
Update
</td>
</tr>
<tr>
<td>
html
</td>
<td>
<a href="https://rawcdn.githack.com/WevertonGomesCosta/Manipulacao-dados-e-Analise-Grafica-R/206bfa9348f1d2adf561992cfa369377f0538c05/docs/manipulacaodedados.html" target="_blank">206bfa9</a>
</td>
<td>
WevertonGomesCosta
</td>
<td>
2022-09-12
</td>
<td>
Update
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<div id="manipulação-de-dados-no-r" class="section level1">
<h1>Manipulação de dados no R</h1>
<p>A manipulação de dados é uma das principais tarefas na análise de
dados. Para auxiliar nessa tarefa, utilizaremos o pacote
<code>tidyverse</code>, que é uma coleção de pacotes que compartilham a
mesma filosofia e sintaxe.</p>
<p>Nesta seção, vamos aprender algumas técnicas de manipulação de dados
no R utilizando as bibliotecas <code>dplyr</code>. Essas bibliotecas
fornecem uma sintaxe mais intuitiva e organizada para as operações de
manipulação de dados no R.</p>
<div id="importando-dados" class="section level2">
<h2>Importando dados</h2>
<p>Antes de começarmos a manipulação de dados, precisamos importar
nossos dados. Para isso, utilizaremos a função <code>read_csv()</code>
do pacote <code>readr</code>, que já está incluso no
<code>tidyverse</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages(&quot;tidyverse&quot;) # Instala o tidyverse</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>-- Attaching core tidyverse packages ------------------------ tidyverse 2.0.0 --
v dplyr     1.1.2     v readr     2.1.4
v forcats   1.0.0     v stringr   1.5.0
v ggplot2   3.4.2     v tibble    3.2.1
v lubridate 1.9.2     v tidyr     1.3.0
v purrr     1.0.1     
-- Conflicts ------------------------------------------ tidyverse_conflicts() --
x dplyr::filter() masks stats::filter()
x dplyr::lag()    masks stats::lag()
i Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/dados.csv&quot;</span>)       <span class="co"># Função para importar os dados</span></span></code></pre></div>
<pre><code>Rows: 96 Columns: 9
-- Column specification --------------------------------------------------------
Delimiter: &quot;,&quot;
chr (2): trat, gen
dbl (7): id, blocos, sev1, sev2, sev3, area, areat

i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div id="análise-descritiva" class="section level2">
<h2>Análise descritiva</h2>
<p>Podemos começar a análise dos nossos dados utilizando a função
<code>summary()</code>, que nos fornece um resumo dos principais
indicadores estatísticos das variáveis.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(dados)</span></code></pre></div>
<pre><code>     trat                 id            gen                blocos    
 Length:96          Min.   : 1.00   Length:96          Min.   :1.00  
 Class :character   1st Qu.:24.75   Class :character   1st Qu.:1.75  
 Mode  :character   Median :48.50   Mode  :character   Median :2.50  
                    Mean   :48.50                      Mean   :2.50  
                    3rd Qu.:72.25                      3rd Qu.:3.25  
                    Max.   :96.00                      Max.   :4.00  
      sev1            sev2            sev3            area       
 Min.   :0.970   Min.   : 1.90   Min.   : 8.00   Min.   : 47.95  
 1st Qu.:1.900   1st Qu.: 8.00   1st Qu.:22.00   1st Qu.:138.84  
 Median :1.900   Median :12.00   Median :31.00   Median :204.05  
 Mean   :2.715   Mean   :17.54   Mean   :28.61   Mean   :232.47  
 3rd Qu.:3.300   3rd Qu.:22.00   3rd Qu.:31.00   3rd Qu.:332.15  
 Max.   :8.000   Max.   :51.00   Max.   :51.00   Max.   :563.50  
     areat      
 Min.   :12.96  
 1st Qu.:24.34  
 Median :30.33  
 Mean   :31.52  
 3rd Qu.:39.93  
 Max.   :53.60  </code></pre>
<p>Leitura dos 6 primeiros observações</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dados)</span></code></pre></div>
<pre><code># A tibble: 6 x 9
  trat               id gen       blocos  sev1  sev2  sev3  area areat
  &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Testemunha 6165     1 Predileta      1  0.97   1.9    12  58.7  14.7
2 Testemunha 6165     2 Predileta      2  1.9    1.9     8  48.0  13.0
3 Testemunha 6165     3 Predileta      3  3.3    3.3    12  76.6  17.2
4 Testemunha 6165     4 Predileta      4  1.9    3.3    12  71.8  16.5
5 Testemunha 6165     5 Inca           1  1.9   12      31 199.   29.9
6 Testemunha 6165     6 Inca           2  1.9   12      31 199.   29.9</code></pre>
</div>
<div id="operador-pipe" class="section level2">
<h2>Operador pipe <code>%&gt;%</code></h2>
<p>O operador pipe <code>%&gt;%</code> é um dos principais recursos do
<code>dplyr</code> e do <code>tidyverse</code>. Ele permite “ligar” um
conjunto de dados a uma determinada função, facilitando a leitura e a
escrita do código.</p>
<p>Por exemplo, se quisermos calcular a média da variável
<code>sev1</code>, podemos usar a função <code>mean()</code> da seguinte
forma:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(dados<span class="sc">$</span>sev1)</span></code></pre></div>
<pre><code>[1] 2.715208</code></pre>
<p>No entanto, com o operador pipe <code>%&gt;%</code> podemos realizar
a mesma operação de forma mais simples:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(sev1) <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>()</span></code></pre></div>
<pre><code>[1] 2.715208</code></pre>
<p>Nesse caso, utilizamos a função <code>pull</code> para indicar qual
variável queremos calcular a média.</p>
</div>
<div id="principais-funções-do-dplyr" class="section level2">
<h2>Principais Funções do dplyr</h2>
<p>Essa biblioteca possui um conjunto de funções que auxiliando na
manipulação de dados:</p>
<ul>
<li><p>Verbos: <code>mutate()</code>, <code>select()</code>,
<code>filter()</code>, <code>arrange()</code>, <code>summarise()</code>,
<code>slice()</code>, <code>rename()</code>, etc.</p></li>
<li><p>Sufixos: <code>_at()</code>, <code>_if()</code>,
<code>_all()</code>, etc.</p></li>
<li><p>Agrupamento: <code>group_by()</code> e
<code>ungroup()</code>.</p></li>
<li><p>Junções: <code>inner_join()</code>, <code>full_join()</code>,
<code>left_join()</code> e <code>right_join()</code>.</p></li>
<li><p>Funções resumo: <code>n()</code>, <code>n_distinct()</code>,
<code>first()</code>, <code>last()</code>, <code>nth()</code>,
etc.</p></li>
</ul>
<div id="selecionando-variáveis-com-select" class="section level3">
<h3>Selecionando Variáveis com <code>select()</code></h3>
<p>A função <code>select()</code> permite selecionar as variáveis
desejadas de um conjunto de dados. É possível selecionar variáveis pelo
nome ou por meio de funções helpers, como <code>starts_with()</code>,
que seleciona todas as variáveis que começam com um prefixo
específico.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(sev1, sev2)</span></code></pre></div>
<pre><code># A tibble: 96 x 2
    sev1  sev2
   &lt;dbl&gt; &lt;dbl&gt;
 1  0.97   1.9
 2  1.9    1.9
 3  3.3    3.3
 4  1.9    3.3
 5  1.9   12  
 6  1.9   12  
 7  1.9    8  
 8  0.97  12  
 9  0.97   8  
10  1.9   12  
# i 86 more rows</code></pre>
<p>Selecionar as colunas 3 (gen) e 8 (area)</p>
<p>Método 1 - indicando o número da coluna no conjunto de dados</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gen, area)</span></code></pre></div>
<pre><code># A tibble: 96 x 2
   gen        area
   &lt;chr&gt;     &lt;dbl&gt;
 1 Predileta  58.7
 2 Predileta  48.0
 3 Predileta  76.6
 4 Predileta  71.8
 5 Inca      199. 
 6 Inca      199. 
 7 Inca      140. 
 8 Inca      196. 
 9 Predileta  87.4
10 Predileta 133. 
# i 86 more rows</code></pre>
<p>Método 2 - indicando o nome da coluna no conjunto de dados</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">3</span>, <span class="dv">8</span>)</span></code></pre></div>
<pre><code># A tibble: 96 x 2
   gen        area
   &lt;chr&gt;     &lt;dbl&gt;
 1 Predileta  58.7
 2 Predileta  48.0
 3 Predileta  76.6
 4 Predileta  71.8
 5 Inca      199. 
 6 Inca      199. 
 7 Inca      140. 
 8 Inca      196. 
 9 Predileta  87.4
10 Predileta 133. 
# i 86 more rows</code></pre>
<p>Excluir a variável 2 (id)</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>id)</span></code></pre></div>
<pre><code># A tibble: 96 x 8
   trat            gen       blocos  sev1  sev2  sev3  area areat
   &lt;chr&gt;           &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Testemunha 6165 Predileta      1  0.97   1.9    12  58.7  14.7
 2 Testemunha 6165 Predileta      2  1.9    1.9     8  48.0  13.0
 3 Testemunha 6165 Predileta      3  3.3    3.3    12  76.6  17.2
 4 Testemunha 6165 Predileta      4  1.9    3.3    12  71.8  16.5
 5 Testemunha 6165 Inca           1  1.9   12      31 199.   29.9
 6 Testemunha 6165 Inca           2  1.9   12      31 199.   29.9
 7 Testemunha 6165 Inca           3  1.9    8      22 140.   24.4
 8 Testemunha 6165 Inca           4  0.97  12      31 196.   29.6
 9 UFV 02          Predileta      1  0.97   8       8  87.4  18.6
10 UFV 02          Predileta      2  1.9   12      12 133.   23.7
# i 86 more rows</code></pre>
<p>Selecionar um intervalo de variáveis</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">8</span>))</span></code></pre></div>
<pre><code># A tibble: 96 x 5
   trat               id gen       blocos  area
   &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;
 1 Testemunha 6165     1 Predileta      1  58.7
 2 Testemunha 6165     2 Predileta      2  48.0
 3 Testemunha 6165     3 Predileta      3  76.6
 4 Testemunha 6165     4 Predileta      4  71.8
 5 Testemunha 6165     5 Inca           1 199. 
 6 Testemunha 6165     6 Inca           2 199. 
 7 Testemunha 6165     7 Inca           3 140. 
 8 Testemunha 6165     8 Inca           4 196. 
 9 UFV 02              9 Predileta      1  87.4
10 UFV 02             10 Predileta      2 133. 
# i 86 more rows</code></pre>
<p>Selecionar colunas pela classe Método 1 - Usando
<code>where</code></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code></pre></div>
<pre><code># A tibble: 96 x 7
      id blocos  sev1  sev2  sev3  area areat
   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     1      1  0.97   1.9    12  58.7  14.7
 2     2      2  1.9    1.9     8  48.0  13.0
 3     3      3  3.3    3.3    12  76.6  17.2
 4     4      4  1.9    3.3    12  71.8  16.5
 5     5      1  1.9   12      31 199.   29.9
 6     6      2  1.9   12      31 199.   29.9
 7     7      3  1.9    8      22 140.   24.4
 8     8      4  0.97  12      31 196.   29.6
 9     9      1  0.97   8       8  87.4  18.6
10    10      2  1.9   12      12 133.   23.7
# i 86 more rows</code></pre>
<p>Método 1 - Usando <code>select_if</code></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_if</span>(is.numeric)</span></code></pre></div>
<pre><code># A tibble: 96 x 7
      id blocos  sev1  sev2  sev3  area areat
   &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1     1      1  0.97   1.9    12  58.7  14.7
 2     2      2  1.9    1.9     8  48.0  13.0
 3     3      3  3.3    3.3    12  76.6  17.2
 4     4      4  1.9    3.3    12  71.8  16.5
 5     5      1  1.9   12      31 199.   29.9
 6     6      2  1.9   12      31 199.   29.9
 7     7      3  1.9    8      22 140.   24.4
 8     8      4  0.97  12      31 196.   29.6
 9     9      1  0.97   8       8  87.4  18.6
10    10      2  1.9   12      12 133.   23.7
# i 86 more rows</code></pre>
<p>Escolha as colunas que possuem um determinado texto</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;area&quot;</span>))</span></code></pre></div>
<pre><code># A tibble: 96 x 2
    area areat
   &lt;dbl&gt; &lt;dbl&gt;
 1  58.7  14.7
 2  48.0  13.0
 3  76.6  17.2
 4  71.8  16.5
 5 199.   29.9
 6 199.   29.9
 7 140.   24.4
 8 196.   29.6
 9  87.4  18.6
10 133.   23.7
# i 86 more rows</code></pre>
</div>
<div id="filtrando-observações-com-filter" class="section level3">
<h3>Filtrando Observações com <code>filter()</code></h3>
<p>A função <code>filter()</code> permite filtrar as observações do
nosso conjunto de dados. Podemos utilizar os operadores lógicos (&gt;,
&lt;, ==, !=, etc.) para definir a condição de filtragem.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gen <span class="sc">==</span> <span class="st">&quot;Predileta&quot;</span> <span class="sc">&amp;</span> area <span class="sc">&gt;=</span> <span class="dv">100</span>)</span></code></pre></div>
<pre><code># A tibble: 41 x 9
   trat            id gen       blocos  sev1  sev2  sev3  area areat
   &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 &quot;UFV 02&quot;        10 Predileta      2  1.9     12    12  133.  23.7
 2 &quot;UFV 04&quot;        17 Predileta      1  0.97    12    12  129.  23.4
 3 &quot;UFV 04&quot;        18 Predileta      2  1.9     12    12  133.  23.7
 4 &quot;UFV 04&quot;        19 Predileta      3  1.9     22    31  269.  35.5
 5 &quot;UFV 04&quot;        20 Predileta      4  1.9     12    12  133.  23.7
 6 &quot;Guaxup\xe9&quot;    25 Predileta      1  0.97    12    12  129.  23.4
 7 &quot;Guaxup\xe9&quot;    26 Predileta      2  0.97    12    22  164.  26.8
 8 &quot;Guaxup\xe9&quot;    27 Predileta      3  0.97    12    12  129.  23.4
 9 &quot;Guaxup\xe9&quot;    28 Predileta      4  1.9     22    22  238.  33.1
10 &quot;UFV 72&quot;        33 Predileta      1  1.9     22    31  269.  35.5
# i 31 more rows</code></pre>
<p>Algumas condições e funções úteis para utilizar com
<code>filter</code>:</p>
<ul>
<li><code>==</code>: filtrar valores iguais a um valor específico.</li>
<li><code>&gt;</code>,<code>&gt;=</code>,<code>&lt;</code> ou
<code>&lt;=</code>: filtrar valores maiores, maiores ou iguais, menores
ou menores ou iguais a um valor específico.</li>
<li><code>&amp;</code>, <code>|</code>, <code>!</code> ou
<code>xor()</code>: Operadores lógicos “e”, “ou”, “diferente” e “ou
exclusivo”.</li>
<li><code>is.na()</code>: verifica se o valor é NA.</li>
<li><code>between()</code>: Filtrar valores entre dois limites
específicos.</li>
<li><code>near()</code>: filtrar valores próximos a um valor específico,
com uma tolerância definida.</li>
</ul>
</div>
<div id="adicionando-variáveis-com-mutate" class="section level3">
<h3>Adicionando Variáveis com <code>mutate()</code></h3>
<p>A função <code>mutate()</code> permite criar novas variáveis a partir
de variáveis já existentes em um conjunto de dados.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sev_total =</span> sev1 <span class="sc">+</span> sev2)</span></code></pre></div>
<pre><code># A tibble: 96 x 10
   trat               id gen      blocos  sev1  sev2  sev3  area areat sev_total
   &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;
 1 Testemunha 6165     1 Predile~      1  0.97   1.9    12  58.7  14.7      2.87
 2 Testemunha 6165     2 Predile~      2  1.9    1.9     8  48.0  13.0      3.8 
 3 Testemunha 6165     3 Predile~      3  3.3    3.3    12  76.6  17.2      6.6 
 4 Testemunha 6165     4 Predile~      4  1.9    3.3    12  71.8  16.5      5.2 
 5 Testemunha 6165     5 Inca          1  1.9   12      31 199.   29.9     13.9 
 6 Testemunha 6165     6 Inca          2  1.9   12      31 199.   29.9     13.9 
 7 Testemunha 6165     7 Inca          3  1.9    8      22 140.   24.4      9.9 
 8 Testemunha 6165     8 Inca          4  0.97  12      31 196.   29.6     13.0 
 9 UFV 02              9 Predile~      1  0.97   8       8  87.4  18.6      8.97
10 UFV 02             10 Predile~      2  1.9   12      12 133.   23.7     13.9 
# i 86 more rows</code></pre>
<p>Convertendo em fator as variáveis trat e gen</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">&lt;-</span> dados <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trat =</span> <span class="fu">as.factor</span>(trat), <span class="at">gen =</span> <span class="fu">as.factor</span>(gen))</span></code></pre></div>
</div>
</div>
<div id="agrupando-observações-com-group_by" class="section level2">
<h2>Agrupando Observações com <code>group_by()</code></h2>
<p>A função <code>group_by()</code> permite agrupar as observações de um
conjunto de dados por uma ou mais variáveis. <em>Sempre é utilizada com
outra função.</em></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(trat) <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_area =</span> <span class="fu">mean</span>(area))</span></code></pre></div>
<pre><code># A tibble: 12 x 2
   trat              mean_area
   &lt;fct&gt;                 &lt;dbl&gt;
 1 &quot;Guaxup\xe9&quot;          146. 
 2 &quot;Lagoa da prata&quot;      205. 
 3 &quot;M 354&quot;               461. 
 4 &quot;M 373&quot;               329. 
 5 &quot;PROG 122&quot;            186. 
 6 &quot;PROG 125&quot;            301. 
 7 &quot;RIL 18&quot;              358. 
 8 &quot;Testemunha 6165&quot;     124. 
 9 &quot;UFV 02&quot;               83.3
10 &quot;UFV 04&quot;              182. 
11 &quot;UFV 72&quot;              246. 
12 &quot;VR 20&quot;               170. </code></pre>
<p>Filtrando os genótipos pela area menor que 100</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(trat, gen) <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(area <span class="sc">&lt;</span> <span class="dv">100</span>)</span></code></pre></div>
<pre><code># A tibble: 10 x 9
# Groups:   trat, gen [3]
   trat               id gen       blocos  sev1  sev2  sev3  area areat
   &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Testemunha 6165     1 Predileta      1  0.97   1.9    12  58.7  14.7
 2 Testemunha 6165     2 Predileta      2  1.9    1.9     8  48.0  13.0
 3 Testemunha 6165     3 Predileta      3  3.3    3.3    12  76.6  17.2
 4 Testemunha 6165     4 Predileta      4  1.9    3.3    12  71.8  16.5
 5 UFV 02              9 Predileta      1  0.97   8       8  87.4  18.6
 6 UFV 02             11 Predileta      3  0.97   8       8  87.4  18.6
 7 UFV 02             12 Predileta      4  0.97   8       8  87.4  18.6
 8 UFV 02             13 Inca           1  0.97   3.3     8  54.5  14.0
 9 UFV 02             15 Inca           3  0.97   3.3     8  54.5  14.0
10 UFV 02             16 Inca           4  1.9    3.3     8  57.8  14.5</code></pre>
<p>Estatísticas da área por tratamento por genótipo</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(trat, gen) <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">area_mean =</span> <span class="fu">mean</span>(area),</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">area_range =</span> <span class="fu">max</span>(area) <span class="sc">-</span> <span class="fu">min</span>(area),</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">area_desv =</span> <span class="fu">sd</span>(area)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  ) </span></code></pre></div>
<pre><code>`summarise()` has grouped output by &#39;trat&#39;. You can override using the
`.groups` argument.</code></pre>
<pre><code># A tibble: 24 x 5
# Groups:   trat [12]
   trat             gen       area_mean area_range area_desv
   &lt;fct&gt;            &lt;fct&gt;         &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
 1 &quot;Guaxup\xe9&quot;     Inca           127.       38.3      17.1
 2 &quot;Guaxup\xe9&quot;     Predileta      165.      108.       51.0
 3 &quot;Lagoa da prata&quot; Inca           187.       59.5      28.2
 4 &quot;Lagoa da prata&quot; Predileta      223.       98        43.6
 5 &quot;M 354&quot;          Inca           423.      210        88.4
 6 &quot;M 354&quot;          Predileta      499.      226.      108. 
 7 &quot;M 373&quot;          Inca           321.       65.1      31.2
 8 &quot;M 373&quot;          Predileta      338.      133        54.4
 9 &quot;PROG 122&quot;       Inca           182.       62.8      30.3
10 &quot;PROG 122&quot;       Predileta      191.       49.3      23.6
# i 14 more rows</code></pre>
<p>Contagem de tratamentos com área maior que 100</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(area <span class="sc">&gt;</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(trat) <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">cont_trat =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code># A tibble: 12 x 2
   trat              cont_trat
   &lt;fct&gt;                 &lt;int&gt;
 1 &quot;Guaxup\xe9&quot;              8
 2 &quot;Lagoa da prata&quot;          8
 3 &quot;M 354&quot;                   8
 4 &quot;M 373&quot;                   8
 5 &quot;PROG 122&quot;                8
 6 &quot;PROG 125&quot;                8
 7 &quot;RIL 18&quot;                  8
 8 &quot;Testemunha 6165&quot;         4
 9 &quot;UFV 02&quot;                  2
10 &quot;UFV 04&quot;                  8
11 &quot;UFV 72&quot;                  8
12 &quot;VR 20&quot;                   8</code></pre>
<div id="ordenando-observações-com-arrange" class="section level3">
<h3>Ordenando Observações com <code>arrange()</code></h3>
<p>A função <code>arrange()</code> permite ordenar as observações de um
conjunto de dados por uma ou mais variáveis.</p>
<p>Ordenando pela menor área (crescente)</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(area)</span></code></pre></div>
<pre><code># A tibble: 96 x 9
   trat               id gen       blocos  sev1  sev2  sev3  area areat
   &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Testemunha 6165     2 Predileta      2  1.9    1.9     8  48.0  13.0
 2 UFV 02             13 Inca           1  0.97   3.3     8  54.5  14.0
 3 UFV 02             15 Inca           3  0.97   3.3     8  54.5  14.0
 4 UFV 02             16 Inca           4  1.9    3.3     8  57.8  14.5
 5 Testemunha 6165     1 Predileta      1  0.97   1.9    12  58.7  14.7
 6 Testemunha 6165     4 Predileta      4  1.9    3.3    12  71.8  16.5
 7 Testemunha 6165     3 Predileta      3  3.3    3.3    12  76.6  17.2
 8 UFV 02              9 Predileta      1  0.97   8       8  87.4  18.6
 9 UFV 02             11 Predileta      3  0.97   8       8  87.4  18.6
10 UFV 02             12 Predileta      4  0.97   8       8  87.4  18.6
# i 86 more rows</code></pre>
<p>Ordenando pela maior área (descendente)</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(area))</span></code></pre></div>
<pre><code># A tibble: 96 x 9
   trat        id gen       blocos  sev1  sev2  sev3  area areat
   &lt;fct&gt;    &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 M 354       92 Predileta      4   8      51    51  564.  53.6
 2 M 354       89 Predileta      1   3.3    51    51  547.  52.7
 3 M 354       90 Predileta      2   3.3    51    51  547.  52.7
 4 M 354       96 Inca           4   3.3    51    51  547.  52.7
 5 PROG 125    41 Predileta      1   3.3    31    51  407.  44.7
 6 PROG 125    44 Predileta      4   3.3    31    51  407.  44.7
 7 M 373       75 Predileta      3   3.3    31    51  407.  44.7
 8 RIL 18      83 Predileta      3   3.3    31    51  407.  44.7
 9 RIL 18      84 Predileta      4   3.3    31    51  407.  44.7
10 RIL 18      85 Inca           1   3.3    31    51  407.  44.7
# i 86 more rows</code></pre>
</div>
<div id="selecionando-linhas-com-slice" class="section level3">
<h3>Selecionando linhas com <code>slice()</code></h3>
<p>A função <code>slice()</code> permite selecionar linhas (observações)
específicas de um conjunto de dados.</p>
<p>Selecionar as observações 1 até 5:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 9
  trat               id gen       blocos  sev1  sev2  sev3  area areat
  &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Testemunha 6165     1 Predileta      1  0.97   1.9    12  58.7  14.7
2 Testemunha 6165     2 Predileta      2  1.9    1.9     8  48.0  13.0
3 Testemunha 6165     3 Predileta      3  3.3    3.3    12  76.6  17.2
4 Testemunha 6165     4 Predileta      4  1.9    3.3    12  71.8  16.5
5 Testemunha 6165     5 Inca           1  1.9   12      31 199.   29.9</code></pre>
<p>Selecioanr todas observações exceto a número 1 até a 5</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>))</span></code></pre></div>
<pre><code># A tibble: 91 x 9
   trat               id gen       blocos  sev1  sev2  sev3  area areat
   &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Testemunha 6165     6 Inca           2  1.9   12      31 199.   29.9
 2 Testemunha 6165     7 Inca           3  1.9    8      22 140.   24.4
 3 Testemunha 6165     8 Inca           4  0.97  12      31 196.   29.6
 4 UFV 02              9 Predileta      1  0.97   8       8  87.4  18.6
 5 UFV 02             10 Predileta      2  1.9   12      12 133.   23.7
 6 UFV 02             11 Predileta      3  0.97   8       8  87.4  18.6
 7 UFV 02             12 Predileta      4  0.97   8       8  87.4  18.6
 8 UFV 02             13 Inca           1  0.97   3.3     8  54.5  14.0
 9 UFV 02             14 Inca           2  1.9    8      12 105.   20.7
10 UFV 02             15 Inca           3  0.97   3.3     8  54.5  14.0
# i 81 more rows</code></pre>
<p>Selecionar as 4 observações com maior área</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(area, <span class="at">n =</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code># A tibble: 4 x 9
  trat     id gen       blocos  sev1  sev2  sev3  area areat
  &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 M 354    92 Predileta      4   8      51    51  564.  53.6
2 M 354    89 Predileta      1   3.3    51    51  547.  52.7
3 M 354    90 Predileta      2   3.3    51    51  547.  52.7
4 M 354    96 Inca           4   3.3    51    51  547.  52.7</code></pre>
<p>Selecionar as 4 observações com menor area</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(area, <span class="at">n =</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code># A tibble: 4 x 9
  trat               id gen       blocos  sev1  sev2  sev3  area areat
  &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Testemunha 6165     2 Predileta      2  1.9    1.9     8  48.0  13.0
2 UFV 02             13 Inca           1  0.97   3.3     8  54.5  14.0
3 UFV 02             15 Inca           3  0.97   3.3     8  54.5  14.0
4 UFV 02             16 Inca           4  1.9    3.3     8  57.8  14.5</code></pre>
<p>Selecionar as 3 últimas observações:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_tail</span>(<span class="at">n =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code># A tibble: 3 x 9
  trat     id gen   blocos  sev1  sev2  sev3  area areat
  &lt;fct&gt; &lt;dbl&gt; &lt;fct&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 M 354    94 Inca       2   3.3    31    31  337.  40.3
2 M 354    95 Inca       3   3.3    31    51  407.  44.7
3 M 354    96 Inca       4   3.3    51    51  547.  52.7</code></pre>
<p>Selecionar a primeira observação:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code># A tibble: 1 x 9
  trat               id gen       blocos  sev1  sev2  sev3  area areat
  &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 Testemunha 6165     1 Predileta      1  0.97   1.9    12  58.7  14.7</code></pre>
<p>Selecionar observações aleatórias:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code># A tibble: 5 x 9
  trat        id gen       blocos  sev1  sev2  sev3  area areat
  &lt;fct&gt;    &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 PROG 125    47 Inca           3  1.9      8    31 171.   27.4
2 UFV 02       9 Predileta      1  0.97     8     8  87.4  18.6
3 VR 20       62 Inca           2  1.9      8    12 105.   20.7
4 VR 20       57 Predileta      1  0.97    12    51 266.   35.2
5 UFV 02      12 Predileta      4  0.97     8     8  87.4  18.6</code></pre>
</div>
<div id="renomeando-variáveis-com-rename" class="section level3">
<h3>Renomeando Variáveis com <code>rename()</code></h3>
<p>A função<code>rename()</code> permite renomear variáveis em nosso
conjunto de dados.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">tratamento =</span> trat , <span class="at">genotipo =</span> gen)</span></code></pre></div>
<pre><code># A tibble: 96 x 9
   tratamento         id genotipo  blocos  sev1  sev2  sev3  area areat
   &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Testemunha 6165     1 Predileta      1  0.97   1.9    12  58.7  14.7
 2 Testemunha 6165     2 Predileta      2  1.9    1.9     8  48.0  13.0
 3 Testemunha 6165     3 Predileta      3  3.3    3.3    12  76.6  17.2
 4 Testemunha 6165     4 Predileta      4  1.9    3.3    12  71.8  16.5
 5 Testemunha 6165     5 Inca           1  1.9   12      31 199.   29.9
 6 Testemunha 6165     6 Inca           2  1.9   12      31 199.   29.9
 7 Testemunha 6165     7 Inca           3  1.9    8      22 140.   24.4
 8 Testemunha 6165     8 Inca           4  0.97  12      31 196.   29.6
 9 UFV 02              9 Predileta      1  0.97   8       8  87.4  18.6
10 UFV 02             10 Predileta      2  1.9   12      12 133.   23.7
# i 86 more rows</code></pre>
</div>
<div id="resumindo-dados-com-summarise" class="section level3">
<h3>Resumindo Dados com <code>summarise()</code></h3>
<ul>
<li><p>A Função <code>summarise()</code> permite criar resumos dos
nossos dados, como médias, medianas, desvios-padrão, etc.</p>
<ul>
<li>Funções úteis:</li>
<li>Média: <code>mean()</code>,</li>
<li>Mediana: <code>median()</code>,</li>
<li>Desvio: <code>sd()</code>,</li>
<li>Variância: <code>var()</code>,</li>
<li>Mínimo e máximo: <code>min()</code>, <code>max()</code>,</li>
<li>Quantils: <code>quantile()</code>.</li>
<li>Posição: <code>first()</code>, <code>last()</code>,
<code>nth()</code>,</li>
<li>Frequência: <code>n()</code>, <code>n_distinct()</code>,</li>
<li>Lógicas: <code>any()</code>, <code>all()</code></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">area_mean =</span> <span class="fu">mean</span>(area),</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">area_median =</span> <span class="fu">median</span>(area)) </span></code></pre></div>
<pre><code># A tibble: 1 x 2
  area_mean area_median
      &lt;dbl&gt;       &lt;dbl&gt;
1      232.        204.</code></pre>
</div>
<div id="unindo-tabelas-com-join" class="section level3">
<h3>Unindo Tabelas com <code>join()</code></h3>
<p>A função mais utilizada para fazer junções de conjunto de dados é a
<code>join()</code>. Fazer um <code>join</code> nada mais é do que unir
dois conjuntos de dados por meio de uma ou mais colunas em comum.</p>
<p>Tipos de Join - Podemos dividir as funções do tipo <code>join</code>
em 2 tipos:</p>
<pre><code>- Mutating joins: `left_join()`, `right_join()`,`inner_join()`, `full_join()`.

- Filtering joins: `semi_join()`, `anti_join()`.</code></pre>
<p>Temos ainda, no pacote dplyr, as funções <code>union()</code>,
<code>intersect()</code>, <code>setdiff()</code>,
<code>setequal()</code> que também são úteis para unir e comparar
conjuntos de dados.</p>
<p>Para demonstrar a função <code>join()</code>, vamos criar um dois
conjuntos de dados chamados de <code>dados1</code> e
<code>dados2</code>:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>dados1 <span class="ot">&lt;-</span> dados <span class="sc">%&gt;%</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">soma_sev =</span> sev1 <span class="sc">+</span> sev2 <span class="sc">+</span> sev3) <span class="sc">%&gt;%</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(soma_sev <span class="sc">&gt;</span> <span class="dv">50</span>)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dados1)</span></code></pre></div>
<pre><code># A tibble: 6 x 10
  trat      id gen       blocos  sev1  sev2  sev3  area areat soma_sev
  &lt;fct&gt;  &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
1 UFV 04    19 Predileta      3   1.9    22    31  269.  35.5     54.9
2 UFV 04    23 Inca           3   8      12    31  220.  31.7     51  
3 UFV 72    33 Predileta      1   1.9    22    31  269.  35.5     54.9
4 UFV 72    35 Predileta      3   3.3    31    31  337.  40.3     65.3
5 UFV 72    36 Predileta      4   3.3    22    31  274.  35.8     56.3
6 UFV 72    39 Inca           3   3.3    22    31  274.  35.8     56.3</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>dados2 <span class="ot">&lt;-</span> dados <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mult_sev =</span> sev1 <span class="sc">*</span> sev2 <span class="sc">*</span> sev3) <span class="sc">%&gt;%</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mult_sev <span class="sc">&gt;</span> <span class="fu">mean</span>(mult_sev))</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dados2)</span></code></pre></div>
<pre><code># A tibble: 6 x 10
  trat        id gen       blocos  sev1  sev2  sev3  area areat mult_sev
  &lt;fct&gt;    &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
1 UFV 04      23 Inca           3   8      12    31  220.  31.7    2976 
2 UFV 72      35 Predileta      3   3.3    31    31  337.  40.3    3171.
3 UFV 72      36 Predileta      4   3.3    22    31  274.  35.8    2251.
4 UFV 72      39 Inca           3   3.3    22    31  274.  35.8    2251.
5 PROG 125    41 Predileta      1   3.3    31    51  407.  44.7    5217.
6 PROG 125    42 Predileta      2   8      31    31  354.  41.3    7688 </code></pre>
<div id="inner_join" class="section level4">
<h4><code>inner_join()</code></h4>
<p>Retorna todas as linhas de x onde existem valores correspondentes em
y e todas as colunas de x e y.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>inner <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(dados1, dados2)</span></code></pre></div>
<pre><code>Joining with `by = join_by(trat, id, gen, blocos, sev1, sev2, sev3, area,
areat)`</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>inner</span></code></pre></div>
<pre><code># A tibble: 31 x 11
   trat        id gen     blocos  sev1  sev2  sev3  area areat soma_sev mult_sev
   &lt;fct&gt;    &lt;dbl&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 UFV 04      23 Inca         3   8      12    31  220.  31.7     51      2976 
 2 UFV 72      35 Predil~      3   3.3    31    31  337.  40.3     65.3    3171.
 3 UFV 72      36 Predil~      4   3.3    22    31  274.  35.8     56.3    2251.
 4 UFV 72      39 Inca         3   3.3    22    31  274.  35.8     56.3    2251.
 5 PROG 125    41 Predil~      1   3.3    31    51  407.  44.7     85.3    5217.
 6 PROG 125    42 Predil~      2   8      31    31  354.  41.3     70      7688 
 7 PROG 125    43 Predil~      3   8      22    51  360.  41.8     81      8976 
 8 PROG 125    44 Predil~      4   3.3    31    51  407.  44.7     85.3    5217.
 9 PROG 125    45 Inca         1   8      12    31  220.  31.7     51      2976 
10 PROG 122    49 Predil~      1   8      12    31  220.  31.7     51      2976 
# i 21 more rows</code></pre>
</div>
<div id="anti_join" class="section level4">
<h4><code>anti_join()</code></h4>
<p>Retorna todas as linhas de x para as quais não existem valores
correspondente em y, mantendo apenas as colunas de x. É considerado um
“filtering join”.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>anti <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(dados1, dados2)</span></code></pre></div>
<pre><code>Joining with `by = join_by(trat, id, gen, blocos, sev1, sev2, sev3, area,
areat)`</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>anti</span></code></pre></div>
<pre><code># A tibble: 9 x 10
  trat              id gen       blocos  sev1  sev2  sev3  area areat soma_sev
  &lt;fct&gt;          &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
1 UFV 04            19 Predileta      3  1.9     22    31  269.  35.5     54.9
2 UFV 72            33 Predileta      1  1.9     22    31  269.  35.5     54.9
3 VR 20             57 Predileta      1  0.97    12    51  266.  35.2     64.0
4 VR 20             60 Predileta      4  1.9     22    31  269.  35.5     54.9
5 Lagoa da prata    66 Predileta      2  1.9     12    51  269.  35.5     64.9
6 Lagoa da prata    68 Predileta      4  3.3      8    51  246.  33.7     62.3
7 M 373             76 Predileta      4  1.9     31    31  332.  39.9     63.9
8 M 373             80 Inca           4  1.9     31    31  332.  39.9     63.9
9 RIL 18            87 Inca           3  1.9     31    31  332.  39.9     63.9</code></pre>
</div>
<div id="semi_join" class="section level4">
<h4><code>semi_join()</code></h4>
<p>Retorna todas as linhas de x para as quais existem valores
correspondente em y, mantendo apenas as x. O <code>semi_join</code>
difere do <code>inner_join</code> porque o <code>inner_join</code> irá
retornar uma linha de x para cada valor correspondente de y, enquanto um
<code>semi_join</code> nunca irá duplicar valores x.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>semi <span class="ot">&lt;-</span> <span class="fu">semi_join</span>(dados1, dados2)</span></code></pre></div>
<pre><code>Joining with `by = join_by(trat, id, gen, blocos, sev1, sev2, sev3, area,
areat)`</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>semi</span></code></pre></div>
<pre><code># A tibble: 31 x 10
   trat        id gen       blocos  sev1  sev2  sev3  area areat soma_sev
   &lt;fct&gt;    &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 UFV 04      23 Inca           3   8      12    31  220.  31.7     51  
 2 UFV 72      35 Predileta      3   3.3    31    31  337.  40.3     65.3
 3 UFV 72      36 Predileta      4   3.3    22    31  274.  35.8     56.3
 4 UFV 72      39 Inca           3   3.3    22    31  274.  35.8     56.3
 5 PROG 125    41 Predileta      1   3.3    31    51  407.  44.7     85.3
 6 PROG 125    42 Predileta      2   8      31    31  354.  41.3     70  
 7 PROG 125    43 Predileta      3   8      22    51  360.  41.8     81  
 8 PROG 125    44 Predileta      4   3.3    31    51  407.  44.7     85.3
 9 PROG 125    45 Inca           1   8      12    31  220.  31.7     51  
10 PROG 122    49 Predileta      1   8      12    31  220.  31.7     51  
# i 21 more rows</code></pre>
</div>
<div id="full_join" class="section level4">
<h4><code>full_join()</code></h4>
<p>Retorna todas as linhas e todas as colunas tanto de x quanto de y.
Returna <code>NA</code> no caso de não haver valor correspondente.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>full <span class="ot">&lt;-</span> <span class="fu">full_join</span>(dados1, dados2)</span></code></pre></div>
<pre><code>Joining with `by = join_by(trat, id, gen, blocos, sev1, sev2, sev3, area,
areat)`</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>full</span></code></pre></div>
<pre><code># A tibble: 40 x 11
   trat        id gen     blocos  sev1  sev2  sev3  area areat soma_sev mult_sev
   &lt;fct&gt;    &lt;dbl&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 UFV 04      19 Predil~      3   1.9    22    31  269.  35.5     54.9      NA 
 2 UFV 04      23 Inca         3   8      12    31  220.  31.7     51      2976 
 3 UFV 72      33 Predil~      1   1.9    22    31  269.  35.5     54.9      NA 
 4 UFV 72      35 Predil~      3   3.3    31    31  337.  40.3     65.3    3171.
 5 UFV 72      36 Predil~      4   3.3    22    31  274.  35.8     56.3    2251.
 6 UFV 72      39 Inca         3   3.3    22    31  274.  35.8     56.3    2251.
 7 PROG 125    41 Predil~      1   3.3    31    51  407.  44.7     85.3    5217.
 8 PROG 125    42 Predil~      2   8      31    31  354.  41.3     70      7688 
 9 PROG 125    43 Predil~      3   8      22    51  360.  41.8     81      8976 
10 PROG 125    44 Predil~      4   3.3    31    51  407.  44.7     85.3    5217.
# i 30 more rows</code></pre>
</div>
<div id="left_join" class="section level4">
<h4><code>left_join()</code></h4>
<p>Retorna todas as linhas de x, e todas as colunas tanto de x quanto de
y. Se houver múltiplas correspondências entre x e y, todas as
combinações de correspondências serão retornadas.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>left <span class="ot">&lt;-</span> <span class="fu">left_join</span>(dados1, dados2)</span></code></pre></div>
<pre><code>Joining with `by = join_by(trat, id, gen, blocos, sev1, sev2, sev3, area,
areat)`</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>left</span></code></pre></div>
<pre><code># A tibble: 40 x 11
   trat        id gen     blocos  sev1  sev2  sev3  area areat soma_sev mult_sev
   &lt;fct&gt;    &lt;dbl&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 UFV 04      19 Predil~      3   1.9    22    31  269.  35.5     54.9      NA 
 2 UFV 04      23 Inca         3   8      12    31  220.  31.7     51      2976 
 3 UFV 72      33 Predil~      1   1.9    22    31  269.  35.5     54.9      NA 
 4 UFV 72      35 Predil~      3   3.3    31    31  337.  40.3     65.3    3171.
 5 UFV 72      36 Predil~      4   3.3    22    31  274.  35.8     56.3    2251.
 6 UFV 72      39 Inca         3   3.3    22    31  274.  35.8     56.3    2251.
 7 PROG 125    41 Predil~      1   3.3    31    51  407.  44.7     85.3    5217.
 8 PROG 125    42 Predil~      2   8      31    31  354.  41.3     70      7688 
 9 PROG 125    43 Predil~      3   8      22    51  360.  41.8     81      8976 
10 PROG 125    44 Predil~      4   3.3    31    51  407.  44.7     85.3    5217.
# i 30 more rows</code></pre>
</div>
<div id="right_join" class="section level4">
<h4><code>right_join()</code></h4>
<p>Retorna todas as linhas de y, e todas as colunas tanto de x quanto de
y. Se houver múltiplas correspondências entre x e y, todas as
combinações de correspondências serão retornadas.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>right <span class="ot">&lt;-</span> <span class="fu">right_join</span>(dados1, dados2)</span></code></pre></div>
<pre><code>Joining with `by = join_by(trat, id, gen, blocos, sev1, sev2, sev3, area,
areat)`</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>right</span></code></pre></div>
<pre><code># A tibble: 31 x 11
   trat        id gen     blocos  sev1  sev2  sev3  area areat soma_sev mult_sev
   &lt;fct&gt;    &lt;dbl&gt; &lt;fct&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 UFV 04      23 Inca         3   8      12    31  220.  31.7     51      2976 
 2 UFV 72      35 Predil~      3   3.3    31    31  337.  40.3     65.3    3171.
 3 UFV 72      36 Predil~      4   3.3    22    31  274.  35.8     56.3    2251.
 4 UFV 72      39 Inca         3   3.3    22    31  274.  35.8     56.3    2251.
 5 PROG 125    41 Predil~      1   3.3    31    51  407.  44.7     85.3    5217.
 6 PROG 125    42 Predil~      2   8      31    31  354.  41.3     70      7688 
 7 PROG 125    43 Predil~      3   8      22    51  360.  41.8     81      8976 
 8 PROG 125    44 Predil~      4   3.3    31    51  407.  44.7     85.3    5217.
 9 PROG 125    45 Inca         1   8      12    31  220.  31.7     51      2976 
10 PROG 122    49 Predil~      1   8      12    31  220.  31.7     51      2976 
# i 21 more rows</code></pre>
</div>
</div>
</div>
<div id="sufixos-com-_if-_at-_all" class="section level2">
<h2>Sufixos com <code>_if()</code>, <code>_at()</code>,
<code>_all()</code></h2>
<p>Os sufixos <code>_if()</code>, <code>_at()</code>,
<code>_all()</code> são usados para aplicar uma operação a um
subconjunto específico de variáveis.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="fu">vars</span>(<span class="fu">starts_with</span>(<span class="st">&quot;sev&quot;</span>)), <span class="fu">list</span>(sqrt))</span></code></pre></div>
<pre><code># A tibble: 96 x 9
   trat               id gen       blocos  sev1  sev2  sev3  area areat
   &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Testemunha 6165     1 Predileta      1 0.985  1.38  3.46  58.7  14.7
 2 Testemunha 6165     2 Predileta      2 1.38   1.38  2.83  48.0  13.0
 3 Testemunha 6165     3 Predileta      3 1.82   1.82  3.46  76.6  17.2
 4 Testemunha 6165     4 Predileta      4 1.38   1.82  3.46  71.8  16.5
 5 Testemunha 6165     5 Inca           1 1.38   3.46  5.57 199.   29.9
 6 Testemunha 6165     6 Inca           2 1.38   3.46  5.57 199.   29.9
 7 Testemunha 6165     7 Inca           3 1.38   2.83  4.69 140.   24.4
 8 Testemunha 6165     8 Inca           4 0.985  3.46  5.57 196.   29.6
 9 UFV 02              9 Predileta      1 0.985  2.83  2.83  87.4  18.6
10 UFV 02             10 Predileta      2 1.38   3.46  3.46 133.   23.7
# i 86 more rows</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(<span class="fu">list</span>(log))</span></code></pre></div>
<pre><code># A tibble: 96 x 7
      id blocos    sev1  sev2  sev3  area areat
   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 0      0     -0.0305 0.642  2.48  4.07  2.69
 2 0.693  0.693  0.642  0.642  2.08  3.87  2.56
 3 1.10   1.10   1.19   1.19   2.48  4.34  2.84
 4 1.39   1.39   0.642  1.19   2.48  4.27  2.81
 5 1.61   0      0.642  2.48   3.43  5.29  3.40
 6 1.79   0.693  0.642  2.48   3.43  5.29  3.40
 7 1.95   1.10   0.642  2.08   3.09  4.94  3.20
 8 2.08   1.39  -0.0305 2.48   3.43  5.28  3.39
 9 2.20   0     -0.0305 2.08   2.08  4.47  2.92
10 2.30   0.693  0.642  2.48   2.48  4.89  3.17
# i 86 more rows</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>dados <span class="sc">%&gt;%</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter_all</span>(<span class="fu">any_vars</span>(<span class="sc">!</span><span class="fu">is.na</span>(.)))</span></code></pre></div>
<pre><code># A tibble: 96 x 9
   trat               id gen       blocos  sev1  sev2  sev3  area areat
   &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Testemunha 6165     1 Predileta      1  0.97   1.9    12  58.7  14.7
 2 Testemunha 6165     2 Predileta      2  1.9    1.9     8  48.0  13.0
 3 Testemunha 6165     3 Predileta      3  3.3    3.3    12  76.6  17.2
 4 Testemunha 6165     4 Predileta      4  1.9    3.3    12  71.8  16.5
 5 Testemunha 6165     5 Inca           1  1.9   12      31 199.   29.9
 6 Testemunha 6165     6 Inca           2  1.9   12      31 199.   29.9
 7 Testemunha 6165     7 Inca           3  1.9    8      22 140.   24.4
 8 Testemunha 6165     8 Inca           4  0.97  12      31 196.   29.6
 9 UFV 02              9 Predileta      1  0.97   8       8  87.4  18.6
10 UFV 02             10 Predileta      2  1.9   12      12 133.   23.7
# i 86 more rows</code></pre>
</div>
<div id="formatos-de-banco-de-dados" class="section level2">
<h2>Formatos de banco de dados</h2>
<p>Em análise de dados, frequentemente precisamos remodelar nossos dados
em diferentes formatos para permitir análises mais eficientes e
precisas. Dois dos formatos mais comuns são o formato “longo” e o
formato “amplo”.</p>
<p>No formato “longo”, cada coluna representa uma variável e cada linha
representa uma observação, com as variáveis de identificação sendo
armazenadas em outras colunas. Já no formato “amplo”, cada linha
representa uma observação e as variáveis são dispostas em diferentes
colunas.</p>
<p>No R, podemos usar as funções <code>pivot_wider()</code> e
<code>pivot_longer()</code> do pacote <code>tidyr</code> para converter
entre esses formatos de dados.</p>
<div id="função-pivot_longer" class="section level3">
<h3>Função <code>pivot_longer()</code></h3>
<p>A função <code>pivot_longer()</code> é usada para converter um
formato amplo em um formato longo. Ela recebe três argumentos:
<code>cols</code>, que especifica as colunas que devem ser dinamizadas
no formato longo, <code>names_to</code>, que especifica o nome da coluna
que será criada a partir dos nomes das colunas originais e
<code>values_to</code>, que especifica o nome da coluna que será criada
para armazenar os valores das células.</p>
<div class="sourceCode" id="cb100"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>dados_longos <span class="ot">&lt;-</span> dados <span class="sc">%&gt;%</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(sev1, sev2, sev3),</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;Sev&quot;</span>,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;Value&quot;</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>dados_longos</span></code></pre></div>
<pre><code># A tibble: 288 x 8
   trat               id gen       blocos  area areat Sev   Value
   &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
 1 Testemunha 6165     1 Predileta      1  58.7  14.7 sev1   0.97
 2 Testemunha 6165     1 Predileta      1  58.7  14.7 sev2   1.9 
 3 Testemunha 6165     1 Predileta      1  58.7  14.7 sev3  12   
 4 Testemunha 6165     2 Predileta      2  48.0  13.0 sev1   1.9 
 5 Testemunha 6165     2 Predileta      2  48.0  13.0 sev2   1.9 
 6 Testemunha 6165     2 Predileta      2  48.0  13.0 sev3   8   
 7 Testemunha 6165     3 Predileta      3  76.6  17.2 sev1   3.3 
 8 Testemunha 6165     3 Predileta      3  76.6  17.2 sev2   3.3 
 9 Testemunha 6165     3 Predileta      3  76.6  17.2 sev3  12   
10 Testemunha 6165     4 Predileta      4  71.8  16.5 sev1   1.9 
# i 278 more rows</code></pre>
</div>
<div id="função-pivot_wider" class="section level3">
<h3>Função <code>pivot_wider()</code></h3>
<p>A função<code>pivot_wider()</code> é usada para converter um formato
longo em um formato amplo. Ela recebe dois argumentos:
<code>names_from</code>, que descreve qual coluna deve ser usada para o
nome da coluna de saída e <code>values_from</code>, que informa a coluna
que contém os valores das células.</p>
<div class="sourceCode" id="cb102"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>dados_amplos <span class="ot">&lt;-</span> dados_longos <span class="sc">%&gt;%</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Sev,</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> Value)</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>dados_amplos</span></code></pre></div>
<pre><code># A tibble: 96 x 9
   trat               id gen       blocos  area areat  sev1  sev2  sev3
   &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Testemunha 6165     1 Predileta      1  58.7  14.7  0.97   1.9    12
 2 Testemunha 6165     2 Predileta      2  48.0  13.0  1.9    1.9     8
 3 Testemunha 6165     3 Predileta      3  76.6  17.2  3.3    3.3    12
 4 Testemunha 6165     4 Predileta      4  71.8  16.5  1.9    3.3    12
 5 Testemunha 6165     5 Inca           1 199.   29.9  1.9   12      31
 6 Testemunha 6165     6 Inca           2 199.   29.9  1.9   12      31
 7 Testemunha 6165     7 Inca           3 140.   24.4  1.9    8      22
 8 Testemunha 6165     8 Inca           4 196.   29.6  0.97  12      31
 9 UFV 02              9 Predileta      1  87.4  18.6  0.97   8       8
10 UFV 02             10 Predileta      2 133.   23.7  1.9   12      12
# i 86 more rows</code></pre>
<ul>
<li>ATIVIDADES</li>
</ul>
<ol style="list-style-type: decimal">
<li><p>Ordene os <code>dados1</code> e <code>dados2</code> pelo
<code>trat</code>, <code>gen</code> e <code>bloco</code>.</p></li>
<li><p>Filtre os <code>dados1</code> e <code>dados2</code> apenas para o
tratamento UFV72 e genótipo Predileta.</p></li>
<li><p>Filtre os dados para área menor do que 50, em ordem decrescente
para a variável área.</p></li>
<li><p>Selecione os 2 tratamentos que apresentaram menor área.</p></li>
<li><p>Crie um conjunto de dados sem as variáveis <code>sev</code>, do
arquivo dados.</p></li>
<li><p>Agrupe os dados usando funções resumos para calcular o mínimo,
media, mediana, desvio e para todas as variáveis numéricas, com a
exceção de blocos, para cada genótipo.</p></li>
<li><p>Adicione no conjunto de dados uma variável que seja a interação
entre tratamentos, genótipos e blocos.</p></li>
<li><p>Faça as junções dos dois conjuntos de dados <code>dados1</code> e
<code>dados2</code>, com o conjunto de dados
<code>dados</code>.</p></li>
<li><p>Pesquise sobre a função <code>gather()</code>, veja quais as suas
funcinalidades e teste nos seus dados.</p></li>
</ol>
<p>Nesta seção, aprendemos como manipular e formatar nossos dados para
análises mais eficientes e precisas. Agora, podemos dar o próximo passo
e começar a explorar visualmente nossos dados usando o pacote ggplot2,
que faz parte do tidyverse. Com as habilidades de manipulação de dados
que adquirimos aqui, estaremos prontos para criar visualizações
atraentes e informativas que ajudarão a revelar padrões e tendências em
nossos dados. Vamos continuar nossa jornada de análise de dados com a
aba Análise Gráfica.</p>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<div class="sourceCode" id="cb104"><pre
class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div>
<pre><code>R version 4.1.3 (2022-03-10)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19045)

Matrix products: default

locale:
[1] LC_COLLATE=Portuguese_Brazil.1252  LC_CTYPE=Portuguese_Brazil.1252   
[3] LC_MONETARY=Portuguese_Brazil.1252 LC_NUMERIC=C                      
[5] LC_TIME=Portuguese_Brazil.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] lubridate_1.9.2 forcats_1.0.0   stringr_1.5.0   dplyr_1.1.2    
 [5] purrr_1.0.1     readr_2.1.4     tidyr_1.3.0     tibble_3.2.1   
 [9] ggplot2_3.4.2   tidyverse_2.0.0 workflowr_1.7.0

loaded via a namespace (and not attached):
 [1] tidyselect_1.2.0 xfun_0.38        bslib_0.4.2      colorspace_2.1-0
 [5] vctrs_0.6.1      generics_0.1.3   htmltools_0.5.5  yaml_2.3.7      
 [9] utf8_1.2.3       rlang_1.1.0      jquerylib_0.1.4  later_1.3.0     
[13] pillar_1.9.0     glue_1.6.2       withr_2.5.0      bit64_4.0.5     
[17] lifecycle_1.0.3  munsell_0.5.0    gtable_0.3.3     evaluate_0.20   
[21] knitr_1.42       callr_3.7.3      tzdb_0.3.0       fastmap_1.1.1   
[25] httpuv_1.6.9     ps_1.7.4         parallel_4.1.3   fansi_1.0.4     
[29] Rcpp_1.0.10      promises_1.2.0.1 scales_1.2.1     cachem_1.0.7    
[33] vroom_1.6.1      jsonlite_1.8.4   bit_4.0.5        fs_1.6.1        
[37] hms_1.1.3        digest_0.6.31    stringi_1.7.12   processx_3.8.0  
[41] getPass_0.2-2    rprojroot_2.0.3  grid_4.1.3       cli_3.6.1       
[45] tools_4.1.3      magrittr_2.0.3   sass_0.4.5       crayon_1.5.2    
[49] whisker_0.4.1    pkgconfig_2.0.3  timechange_0.2.0 rmarkdown_2.21  
[53] httr_1.4.5       rstudioapi_0.14  R6_2.5.1         git2r_0.30.1    
[57] compiler_4.1.3  </code></pre>
</div>
</div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>Weverton Gomes da Costa, Pós-Doutorando, Departamento de
Estatística - UFV, <a href="mailto:wevertonufv@gmail.com"
class="email">wevertonufv@gmail.com</a><a href="#fnref1"
class="footnote-back">↩︎</a></p></li>
</ol>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
https://docs.mathjax.org/en/latest/web/configuration.html. This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
